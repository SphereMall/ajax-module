{"version":3,"file":"ajax.module.js","sources":["webpack:///webpack/bootstrap a7d044ebcb36eeaf24bb","webpack:///./Elements/AjaxElement.ts","webpack:///./Elements/AjaxElementFactory.ts","webpack:///./Helpers/Guid.ts","webpack:///./Settings.ts","webpack:///./Elements/AjaxFormElement.ts","webpack:///./Elements/AjaxHtmlElement.ts","webpack:///./main.ts"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a7d044ebcb36eeaf24bb","import {IAjaxElement} from \"./IAjaxElement\";\r\nimport {Settings} from \"../Settings\";\r\n\r\nexport abstract class AjaxElement implements IAjaxElement {\r\n  protected id: string;\r\n  protected element: HTMLElement;\r\n  protected settings: Settings;\r\n\r\n  constructor(id: string) {\r\n    this.id = id;\r\n  }\r\n\r\n  abstract ajaxSend(): void;\r\n\r\n  abstract subscribe(): void;\r\n\r\n  setElement(element: HTMLElement) {\r\n    this.element = element;\r\n  }\r\n\r\n  setSettings(settings: Settings) {\r\n    this.settings = settings;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader!./Elements/AjaxElement.ts","import {AjaxFormElement} from \"./AjaxFormElement\";\r\nimport {AjaxHtmlElement} from \"./AjaxHtmlElement\";\r\nimport {AjaxElement} from \"./AjaxElement\";\r\n\r\nexport class AjaxElementFactory {\r\n\r\n  static getAjaxElement(tagName: string, elementId: string): AjaxElement {\r\n    switch (tagName) {\r\n      case 'FORM':\r\n        return new AjaxFormElement(elementId);\r\n\r\n      default:\r\n        return new AjaxHtmlElement(elementId);\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader!./Elements/AjaxElementFactory.ts","export class Guid {\r\n  static get() {\r\n    return this.s4() + this.s4() + '-' + this.s4() + '-' + this.s4() + '-' +\r\n      this.s4() + '-' + this.s4() + this.s4() + this.s4();\r\n  }\r\n\r\n  private static s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader!./Helpers/Guid.ts","export class Settings {\r\n  public type: string = 'post';\r\n  public dataType: string = 'json';\r\n  public method: string;\r\n  public controller: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader!./Settings.ts","import {AjaxElement} from \"./AjaxElement\";\r\n\r\nexport class AjaxFormElement extends AjaxElement {\r\n  ajaxSend(): void {\r\n    console.log('call form element');\r\n  }\r\n\r\n  subscribe(): void {\r\n    console.log(this);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader!./Elements/AjaxFormElement.ts","import {AjaxElement} from \"./AjaxElement\";\r\n\r\nexport class AjaxHtmlElement extends AjaxElement {\r\n\r\n  ajaxSend(): void {\r\n    console.log('call html dom element');\r\n  }\r\n\r\n  subscribe(): void {\r\n\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader!./Elements/AjaxHtmlElement.ts","import {Guid} from \"./Helpers/Guid\";\r\nimport {AjaxElementFactory} from \"./Elements/AjaxElementFactory\";\r\nimport {IAjaxElement} from \"./Elements/IAjaxElement\";\r\nimport {Settings} from \"./Settings\";\r\n\r\nexport class AjaxModule {\r\n\r\n  private elements: IAjaxElement[] = [];\r\n\r\n  init() {\r\n    let elements: NodeList = document.body.querySelectorAll(`\r\n      [data-ajax-action], \r\n      [data-ajax-controller], \r\n      [data-ajax-method]`);\r\n\r\n    Object.keys(elements).forEach(key => {\r\n      let currentElement = <HTMLElement>elements[+key];\r\n\r\n      let elementIdAttr = currentElement.attributes.getNamedItem('data-ajax-element-id');\r\n      if (elementIdAttr == null) {\r\n        let elementId = Guid.get();\r\n        currentElement.setAttribute('data-ajax-element-id', elementId);\r\n\r\n        let element = AjaxElementFactory.getAjaxElement(currentElement.tagName, elementId);\r\n        element.setElement(currentElement);\r\n        element.setSettings(new Settings());\r\n        element.subscribe();\r\n\r\n        this.elements.push(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  getElements() {\r\n    return this.elements;\r\n  }\r\n}\r\n\r\nexport const module = new AjaxModule();\r\nmodule.init();\n\n\n// WEBPACK FOOTER //\n// node_modules/tslint-loader!./main.ts"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC7DA;AAKA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AApBA;;;;;;;;;ACHA;AACA;AAGA;AAAA;AAWA;AATA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAXA;;;;;;;;;ACJA;AAAA;AASA;AARA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AATA;;;;;;;;;ACAA;AAAA;AACA;AACA;AAGA;AAAA;AAAA;AALA;;;;;;;;;;;;;;ACAA;AAEA;AAAA;AAAA;;AAQA;AAPA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AARA;;;;;;;;;;;;;;ACFA;AAEA;AAAA;AAAA;;AASA;AAPA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AATA;;;;;;;;;ACFA;AACA;AAEA;AAEA;AAAA;AAEA;AA6BA;AA3BA;AAAA;AACA;AAKA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AA/BA;AAiCA;AACA;;;;","sourceRoot":""}